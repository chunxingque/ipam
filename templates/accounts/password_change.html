{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
    .errorMsg {
        color: red;
        font-weight: normal;
    }
</style>

{% endblock stylesheets %}

{% block content %}
<p><b>{{form.user}} 用户密码修改<b><p>
<div class="form" style="display: flex; flex-direction: row; width: 100%; flex-wrap: nowrap;  justify-content: center">

    <form action="/user/changepasswd/{{id}}/" method="post" style="width: 500px">
        {% csrf_token %}
        <div class="row mb-3">
            <label for="old_password" class="col-sm-3 col-form-label">{{ form.old_password.label }}:</label>
            <div class="col-sm-9">
                <input type="password" class="form-control" name="old_password" value="{{form.old_password.value}}">
            </div>
        </div>
        {% for error in form.old_password.errors %}
        <p class="errorMsg">{{ error }}</p>
        {% endfor %}
        
        <div class="row mb-3">
            <label for="new_password1" class="col-sm-3 col-form-label">{{ form.new_password1.label }}:</label>
            <div class="col-sm-9">
                <input type="password" class="form-control" name="new_password1" value="{{form.new_password1.value}}">
            </div>
        </div>
        {% for error in form.new_password1.errors %}
        <p class="errorMsg">{{ error }}</p>
        {% endfor %}
        
        <div class="row mb-3">
            <label for="new_password2" class="col-sm-3 col-form-label">{{ form.new_password2.label }}:</label>
            <div class="col-sm-9">
                <input type="password" class="form-control" name="new_password2" value="{{form.new_password2.value}}">
            </div>
        </div>
        {% for error in form.new_password2.errors %}
        <p class="errorMsg">{{ error }}</p>
        {% endfor %}

        {% if msg %}
            {% if success %}
            <p style="color: green;"> {{ msg }} </p>
            {% else %}
            <p class="errorMsg"> {{ msg }} </p>
            {% endif %}
        {% endif %}
        <div class="row mb-3">
            <div class="col-sm-10"></div>
            <div class="col-sm-2">
                <button class="btn btn-primary" type="submit" style="width: 100%;">提 交</button>
            </div>
        </div>
    </form>
    <div>

        {% endblock content %}
        <!-- Specific Page JS goes HERE  -->
        {% block javascripts %}
        {% endblock javascripts %}